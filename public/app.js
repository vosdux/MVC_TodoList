!function(t){var c={};function n(e){if(c[e])return c[e].exports;var l=c[e]={i:e,l:!1,exports:{}};return t[e].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=t,n.c=c,n.d=function(t,c,e){n.o(t,c)||Object.defineProperty(t,c,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,c){if(1&c&&(t=n(t)),8&c)return t;if(4&c&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&c&&"string"!=typeof t)for(var l in t)n.d(e,l,function(c){return t[c]}.bind(null,l));return e},n.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(c,"a",c),c},n.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},n.p="/js",n(n.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/helpers.js\nfunction createElement(tag, props, ...children) {\r\n    const element = document.createElement(tag);\r\n\r\n    Object.keys(props).forEach(key => {\r\n        if (key.startsWith('data-')) {\r\n            element.setAttribute(key, props[key]);\r\n        } else {\r\n            element[key] = props[key];\r\n        }\r\n    });\r\n\r\n    children.forEach(child => {\r\n        if (typeof child === 'string') {\r\n            child = document.createTextNode(child);\r\n        }\r\n\r\n        element.appendChild(child);\r\n    });\r\n\r\n    return element;\r\n}\r\n\r\nclass EventEmitter {\r\n    constructor() {\r\n        this.events = {};\r\n    }\r\n\r\n    subscribe(type, callback) {\r\n        this.events[type] = this.events[type] || [];\r\n        this.events[type].push(callback);\r\n    }\r\n\r\n    emit(type, arg) {\r\n        if (this.events[type]) {\r\n            this.events[type].forEach(callback => callback(arg));\r\n        }\r\n    }\r\n}\r\n\r\nfunction save(data) {\r\n    const string = JSON.stringify(data);\r\n\r\n    localStorage.setItem('todos', string);\r\n}\r\n\r\nfunction load() {\r\n    const string = localStorage.getItem('todos');\r\n    const data = JSON.parse(string);\r\n\r\n    return data;\r\n}\r\n\r\n\n// CONCATENATED MODULE: ./src/model.js\n\r\n\r\nclass model_Model extends EventEmitter{\r\n    constructor(state = []) {\r\n        super();\r\n\r\n        this.state = state;\r\n    }\r\n\r\n    getItem(id) {\r\n        return this.state.find(item => item.id == id);\r\n    }\r\n\r\n    addItem(item) {\r\n        this.state.push(item);\r\n        this.emit('change', this.state);\r\n        return item;\r\n    }\r\n\r\n    updateItem(id, data) {\r\n        const item = this.getItem(id);\r\n        Object.keys(data).forEach(prop => item[prop] = data[prop]);\r\n        this.emit('change', this.state);\r\n\r\n        return item;\r\n    }\r\n\r\n    removeItem(id) {\r\n        const index = this.state.findIndex(item => item.id == id);\r\n\r\n        if (index > -1) {\r\n            this.state.splice(index, 1);\r\n            this.emit('change', this.state);\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ var model = (model_Model);\n// CONCATENATED MODULE: ./src/view.js\n\r\n\r\nclass view_View extends EventEmitter {\r\n    constructor() {\r\n        super();\r\n\r\n        this.form = document.getElementById('todo-form');\r\n        this.input = document.getElementById('add-input');\r\n        this.list = document.getElementById('todo-list');\r\n\r\n        this.form.addEventListener('submit', this.handleAdd.bind(this));\r\n    }\r\n\r\n    createListItem(todo) {\r\n        const checkbox = createElement('input', { type: 'checkbox', className: 'checkbox', checked: todo.completed ? 'checked' : '' });\r\n        const label = createElement('label', { className: 'title' }, todo.title);\r\n        const editInput = createElement('input', { type: 'text', className: 'textfield' });\r\n        const editButton = createElement('button', { className: 'edit' }, 'Изменить');\r\n        const deleteButton = createElement('button', { className: 'remove' }, 'Удалить');\r\n        const item = createElement('li', { className: `todo-item ${todo.completed ? 'completed' : ''}`, 'data-id' : todo.id }, checkbox, label, editInput, editButton, deleteButton);\r\n\r\n        return this.addEventListeners(item);\r\n    }\r\n\r\n    addEventListeners(listItem) {\r\n        const checkbox = listItem.querySelector('.checkbox');\r\n        const editButton = listItem.querySelector('button.edit');\r\n        const removeButton = listItem.querySelector('button.remove');\r\n\r\n        checkbox.addEventListener('change', this.handleToggle.bind(this));\r\n        editButton.addEventListener('click', this.handleEdit.bind(this));\r\n        removeButton.addEventListener('click', this.handleRemove.bind(this));\r\n\r\n        return listItem;\r\n    }\r\n\r\n    handleAdd(event) {\r\n        event.preventDefault();\r\n\r\n        if (!this.input.value) return alert('Необходимо ввести название задачи');\r\n\r\n        const value = this.input.value;\r\n\r\n        this.emit('add', value);\r\n    }\r\n\r\n    handleToggle({ target }) {\r\n        const listItem = target.parentNode;\r\n        const id = listItem.getAttribute('data-id');\r\n        const completed = target.checked;\r\n\r\n        this.emit('toggle', { id, completed })\r\n    }\r\n\r\n    handleEdit({ target }) {\r\n        const listItem = target.parentNode;\r\n        const id = listItem.getAttribute('data-id');\r\n        const label = listItem.querySelector('.title');\r\n        const input = listItem.querySelector('.textfield');\r\n        const editButton = listItem.querySelector('button.edit');\r\n        const title = input.value;\r\n        const isEditing = listItem.classList.contains('editing');\r\n\r\n        if (isEditing) {\r\n            this.emit('edit', { id, title });\r\n        } else {\r\n            input.vatue = label.textContent;\r\n            editButton.textContent = 'Сохранить';\r\n            listItem.classList.add('editing');\r\n        }\r\n    }\r\n\r\n    handleRemove({ target }) {\r\n        const listItem = target.parentNode;\r\n        const id = listItem.getAttribute('data-id');\r\n\r\n        this.emit('remove', id);\r\n    }\r\n\r\n    show(todos) {\r\n        todos.forEach(todo => {\r\n            const listItem = this.createListItem(todo);\r\n\r\n            this.list.appendChild(listItem);\r\n        });\r\n    }\r\n\r\n    findListItem (id) {\r\n        return this.list.querySelector(`[data-id=\"${id}\"]`);\r\n    }\r\n\r\n    addItem(todo) {\r\n        const listItem = this.createListItem(todo);\r\n\r\n        this.input.value = '';\r\n        this.list.appendChild(listItem);\r\n    }\r\n\r\n    toggleItem(todo) {\r\n        const listItem = this.findListItem(todo.id);\r\n        const checkbox = listItem.querySelector('.checkbox');\r\n\r\n        checkbox.checked = todo.completed;\r\n\r\n        if (todo.completed) {\r\n            listItem.classList.add('completed');\r\n        } else {\r\n            listItem.classList.remove('completed');\r\n        }\r\n    }\r\n\r\n    editItem(todo) {\r\n        const listItem = this.findListItem(todo.id);\r\n        const label = listItem.querySelector('.title');\r\n        const input = listItem.querySelector('.textfield');\r\n        const editButton = listItem.querySelector('button.edit');\r\n\r\n        label.textContent = todo.title;\r\n        editButton.textContent = 'Изменить';\r\n        listItem.classList.remove('editing');\r\n    }\r\n\r\n    removeItem(id) {\r\n        const listItem = this.findListItem(id);\r\n\r\n        this.list.removeChild(listItem);\r\n    }\r\n}\r\n\r\n/* harmony default export */ var view = (view_View);\n// CONCATENATED MODULE: ./src/controller.js\nclass Controller {\r\n    constructor(model, view) {\r\n        this.model = model;\r\n        this.view = view;\r\n\r\n        view.subscribe('add', this.addTodo.bind(this));\r\n        view.subscribe('toggle', this.toggleTodo.bind(this));\r\n        view.subscribe('edit', this.editTodo.bind(this));\r\n        view.subscribe('remove', this.removeTodo.bind(this));\r\n\r\n        view.show(model.state);\r\n    }\r\n\r\n    addTodo(title) {\r\n        const todo = this.model.addItem({\r\n            id: Date.now(),\r\n            title,\r\n            completed: false\r\n        });\r\n\r\n        this.view.addItem(todo);\r\n    }\r\n\r\n    toggleTodo({ id, completed }) {\r\n        const todo = this.model.updateItem(id, { completed });\r\n\r\n        this.view.toggleItem(todo);\r\n    }\r\n\r\n    editTodo({ id, title }) {\r\n        const todo = this.model.updateItem(id, { title });\r\n\r\n        this.view.editItem(todo);\r\n    }\r\n\r\n    removeTodo(id) {\r\n        this.model.removeItem(id);\r\n        this.view.removeItem(id);\r\n    }\r\n}\r\n\r\n/* harmony default export */ var controller = (Controller);\n// CONCATENATED MODULE: ./src/index.js\n\r\n\r\n\r\n\r\n\r\nconst src_state = load();\r\n\r\nconst src_model = new model(src_state || undefined);\r\nsrc_model.subscribe('change', state => save(state));\r\n\r\nconst src_view = new view();\r\nconst src_controller = new controller(src_model, src_view);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9oZWxwZXJzLmpzP2Q3YzIiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsLmpzPzRhYmUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcuanM/ZjA3OCIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci5qcz82MjgzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBwcm9wcywgLi4uY2hpbGRyZW4pIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XHJcblxyXG4gICAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2RhdGEtJykpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBwcm9wc1trZXldKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtZW50W2tleV0gPSBwcm9wc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGNoaWxkID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxufVxyXG5cclxuY2xhc3MgRXZlbnRFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgc3Vic2NyaWJlKHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHNbdHlwZV0gPSB0aGlzLmV2ZW50c1t0eXBlXSB8fCBbXTtcclxuICAgICAgICB0aGlzLmV2ZW50c1t0eXBlXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBlbWl0KHR5cGUsIGFyZykge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50c1t0eXBlXSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c1t0eXBlXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGFyZykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZShkYXRhKSB7XHJcbiAgICBjb25zdCBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb3MnLCBzdHJpbmcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkKCkge1xyXG4gICAgY29uc3Qgc3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJyk7XHJcbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzdHJpbmcpO1xyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5leHBvcnQgeyBjcmVhdGVFbGVtZW50LCBFdmVudEVtaXR0ZXIsIHNhdmUsIGxvYWQgfTsiLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XHJcblxyXG5jbGFzcyBNb2RlbCBleHRlbmRzIEV2ZW50RW1pdHRlcntcclxuICAgIGNvbnN0cnVjdG9yKHN0YXRlID0gW10pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SXRlbShpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09IGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgICAgICB0aGlzLnN0YXRlLnB1c2goaXRlbSk7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLnN0YXRlKTtcclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJdGVtKGlkLCBkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZ2V0SXRlbShpZCk7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChwcm9wID0+IGl0ZW1bcHJvcF0gPSBkYXRhW3Byb3BdKTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMuc3RhdGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVJdGVtKGlkKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnN0YXRlLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT0gaWQpO1xyXG5cclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5zdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RlbDsiLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XHJcblxyXG5jbGFzcyBWaWV3IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWZvcm0nKTtcclxuICAgICAgICB0aGlzLmlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1pbnB1dCcpO1xyXG4gICAgICAgIHRoaXMubGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWxpc3QnKTtcclxuXHJcbiAgICAgICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuaGFuZGxlQWRkLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUxpc3RJdGVtKHRvZG8pIHtcclxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnLCBjbGFzc05hbWU6ICdjaGVja2JveCcsIGNoZWNrZWQ6IHRvZG8uY29tcGxldGVkID8gJ2NoZWNrZWQnIDogJycgfSk7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjcmVhdGVFbGVtZW50KCdsYWJlbCcsIHsgY2xhc3NOYW1lOiAndGl0bGUnIH0sIHRvZG8udGl0bGUpO1xyXG4gICAgICAgIGNvbnN0IGVkaXRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIGNsYXNzTmFtZTogJ3RleHRmaWVsZCcgfSk7XHJcbiAgICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHsgY2xhc3NOYW1lOiAnZWRpdCcgfSwgJ9CY0LfQvNC10L3QuNGC0YwnKTtcclxuICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCB7IGNsYXNzTmFtZTogJ3JlbW92ZScgfSwgJ9Cj0LTQsNC70LjRgtGMJyk7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IGNyZWF0ZUVsZW1lbnQoJ2xpJywgeyBjbGFzc05hbWU6IGB0b2RvLWl0ZW0gJHt0b2RvLmNvbXBsZXRlZCA/ICdjb21wbGV0ZWQnIDogJyd9YCwgJ2RhdGEtaWQnIDogdG9kby5pZCB9LCBjaGVja2JveCwgbGFiZWwsIGVkaXRJbnB1dCwgZWRpdEJ1dHRvbiwgZGVsZXRlQnV0dG9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoaXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMobGlzdEl0ZW0pIHtcclxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveCcpO1xyXG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCdidXR0b24uZWRpdCcpO1xyXG4gICAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5yZW1vdmUnKTtcclxuXHJcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVUb2dnbGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlRWRpdC5iaW5kKHRoaXMpKTtcclxuICAgICAgICByZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVJlbW92ZS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxpc3RJdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUFkZChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pbnB1dC52YWx1ZSkgcmV0dXJuIGFsZXJ0KCfQndC10L7QsdGF0L7QtNC40LzQviDQstCy0LXRgdGC0Lgg0L3QsNC30LLQsNC90LjQtSDQt9Cw0LTQsNGH0LgnKTtcclxuXHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmlucHV0LnZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoJ2FkZCcsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVUb2dnbGUoeyB0YXJnZXQgfSkge1xyXG4gICAgICAgIGNvbnN0IGxpc3RJdGVtID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgY29uc3QgaWQgPSBsaXN0SXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcclxuICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSB0YXJnZXQuY2hlY2tlZDtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KCd0b2dnbGUnLCB7IGlkLCBjb21wbGV0ZWQgfSlcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVFZGl0KHsgdGFyZ2V0IH0pIHtcclxuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IHRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgICAgIGNvbnN0IGlkID0gbGlzdEl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0ZmllbGQnKTtcclxuICAgICAgICBjb25zdCBlZGl0QnV0dG9uID0gbGlzdEl0ZW0ucXVlcnlTZWxlY3RvcignYnV0dG9uLmVkaXQnKTtcclxuICAgICAgICBjb25zdCB0aXRsZSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGlzRWRpdGluZyA9IGxpc3RJdGVtLmNsYXNzTGlzdC5jb250YWlucygnZWRpdGluZycpO1xyXG5cclxuICAgICAgICBpZiAoaXNFZGl0aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZWRpdCcsIHsgaWQsIHRpdGxlIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlucHV0LnZhdHVlID0gbGFiZWwudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGVkaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJztcclxuICAgICAgICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnZWRpdGluZycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVSZW1vdmUoeyB0YXJnZXQgfSkge1xyXG4gICAgICAgIGNvbnN0IGxpc3RJdGVtID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgY29uc3QgaWQgPSBsaXN0SXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmUnLCBpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdyh0b2Rvcykge1xyXG4gICAgICAgIHRvZG9zLmZvckVhY2godG9kbyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RJdGVtID0gdGhpcy5jcmVhdGVMaXN0SXRlbSh0b2RvKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZExpc3RJdGVtIChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QucXVlcnlTZWxlY3RvcihgW2RhdGEtaWQ9XCIke2lkfVwiXWApO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0odG9kbykge1xyXG4gICAgICAgIGNvbnN0IGxpc3RJdGVtID0gdGhpcy5jcmVhdGVMaXN0SXRlbSh0b2RvKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgIHRoaXMubGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlSXRlbSh0b2RvKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdEl0ZW0gPSB0aGlzLmZpbmRMaXN0SXRlbSh0b2RvLmlkKTtcclxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveCcpO1xyXG5cclxuICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdG9kby5jb21wbGV0ZWQ7XHJcblxyXG4gICAgICAgIGlmICh0b2RvLmNvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdjb21wbGV0ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZWRpdEl0ZW0odG9kbykge1xyXG4gICAgICAgIGNvbnN0IGxpc3RJdGVtID0gdGhpcy5maW5kTGlzdEl0ZW0odG9kby5pZCk7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0ZmllbGQnKTtcclxuICAgICAgICBjb25zdCBlZGl0QnV0dG9uID0gbGlzdEl0ZW0ucXVlcnlTZWxlY3RvcignYnV0dG9uLmVkaXQnKTtcclxuXHJcbiAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSB0b2RvLnRpdGxlO1xyXG4gICAgICAgIGVkaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0JjQt9C80LXQvdC40YLRjCc7XHJcbiAgICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnZWRpdGluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUl0ZW0oaWQpIHtcclxuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IHRoaXMuZmluZExpc3RJdGVtKGlkKTtcclxuXHJcbiAgICAgICAgdGhpcy5saXN0LnJlbW92ZUNoaWxkKGxpc3RJdGVtKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmlldzsiLCJjbGFzcyBDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3KSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcblxyXG4gICAgICAgIHZpZXcuc3Vic2NyaWJlKCdhZGQnLCB0aGlzLmFkZFRvZG8uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdmlldy5zdWJzY3JpYmUoJ3RvZ2dsZScsIHRoaXMudG9nZ2xlVG9kby5iaW5kKHRoaXMpKTtcclxuICAgICAgICB2aWV3LnN1YnNjcmliZSgnZWRpdCcsIHRoaXMuZWRpdFRvZG8uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdmlldy5zdWJzY3JpYmUoJ3JlbW92ZScsIHRoaXMucmVtb3ZlVG9kby5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdmlldy5zaG93KG1vZGVsLnN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRUb2RvKHRpdGxlKSB7XHJcbiAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubW9kZWwuYWRkSXRlbSh7XHJcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICB0aXRsZSxcclxuICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnZpZXcuYWRkSXRlbSh0b2RvKTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVUb2RvKHsgaWQsIGNvbXBsZXRlZCB9KSB7XHJcbiAgICAgICAgY29uc3QgdG9kbyA9IHRoaXMubW9kZWwudXBkYXRlSXRlbShpZCwgeyBjb21wbGV0ZWQgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudmlldy50b2dnbGVJdGVtKHRvZG8pO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRUb2RvKHsgaWQsIHRpdGxlIH0pIHtcclxuICAgICAgICBjb25zdCB0b2RvID0gdGhpcy5tb2RlbC51cGRhdGVJdGVtKGlkLCB7IHRpdGxlIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnZpZXcuZWRpdEl0ZW0odG9kbyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVG9kbyhpZCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwucmVtb3ZlSXRlbShpZCk7XHJcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUl0ZW0oaWQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyOyIsImltcG9ydCBNb2RlbCBmcm9tICcuL21vZGVsJztcclxuaW1wb3J0IFZpZXcgZnJvbSAnLi92aWV3JztcclxuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcclxuaW1wb3J0IHsgc2F2ZSwgbG9hZCB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG5jb25zdCBzdGF0ZSA9IGxvYWQoKTtcclxuXHJcbmNvbnN0IG1vZGVsID0gbmV3IE1vZGVsKHN0YXRlIHx8IHVuZGVmaW5lZCk7XHJcbm1vZGVsLnN1YnNjcmliZSgnY2hhbmdlJywgc3RhdGUgPT4gc2F2ZShzdGF0ZSkpO1xyXG5cclxuY29uc3QgdmlldyA9IG5ldyBWaWV3KCk7XHJcbmNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcihtb2RlbCwgdmlldyk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);